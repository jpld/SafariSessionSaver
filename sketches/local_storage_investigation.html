<!doctype html>
<html lang="en">
<head>
  <!-- both of these shouldn't be necessary but the new charset attribute doesn't seem to work 100% yet -->
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

  <title>HTML5 Local Storage Investigation</title>
  <meta name="author" content="jpld">
  <meta name="copyright" content="Copyright 2010 jpld. All Rights Reserved.">

  <meta name="robots" content="noindex">

  <link href="css/reset.css" media="screen, projection, print" rel="stylesheet" type="text/css">
  <!--[if IE]>
  <link href="css/ie.css" media="screen, projection, print" rel="stylesheet" type="text/css">
  <![endif]-->
  <style type="text/css" media="screen">
    body {font:normal normal normal 1.4em Helvatica, sans-serif; margin:10px 10px;}
    #people {margin-top:0.5em;}
    #people div {color:gray;}
  </style>

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js" type="text/javascript"></script>
  <script type="text/javascript">
  <!--
    $(document).ready(function() {
      localStorage.removeItem('list');

      var list = new Array();
      list.push({ 'name': 'nick', 'age': 17 });
      list.push({ 'name': 'peter', 'age': 21 });
      list.push({ 'name': 'emily', 'age': 26 });
      list.push({ 'name': 'joan' });
      list.push({ 'name': 'george' });
      localStorage.setItem('list', JSON.stringify(list));

      var retrievedObject = localStorage.getItem('list');
      var newList = JSON.parse(retrievedObject);
      for (var idx = 0; idx < newList.length; idx++) {
        var person = newList[idx];
        var string = person.name + ((person.age != undefined) ? ' (' + person.age + ')' : '');
        $('#people').append('<div>' + string + '</div>');
      }
    });
  -->
  </script>
</head>
<body>
  <div>people plucked from local storage:</div>
  <div id="people"></div>
</body>
</html>
